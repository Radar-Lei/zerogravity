name: Bug Report
description: Something isn't working right
labels: ["bug"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for reporting! Please fill out the info below so we can debug faster.

  - type: dropdown
    id: version
    attributes:
      label: ZeroGravity Version
      description: "Run `zg status` or check your download — pick the closest match"
      options:
        - v1.1.6-beta.1
        - v1.1.5
        - v1.1.4
        - Docker (latest)
        - Built from source
        - Other (specify below)
    validations:
      required: true

  - type: input
    id: version_detail
    attributes:
      label: Version Detail (if "Other" or built from source)
      description: "Paste the output of `zg status` or `git rev-parse --short HEAD`"
      placeholder: "e.g. abc1234 or zg status output"

  - type: dropdown
    id: install_method
    attributes:
      label: Installation Method
      options:
        - Binary download (GitHub release)
        - Docker
        - Built from source
    validations:
      required: true

  - type: input
    id: os
    attributes:
      label: Operating System
      description: e.g. Ubuntu 24.04, macOS 15.2, Windows 11
      placeholder: Ubuntu 24.04
    validations:
      required: true

  - type: dropdown
    id: arch
    attributes:
      label: Architecture
      options:
        - x86_64 / amd64
        - aarch64 / arm64
    validations:
      required: true

  - type: dropdown
    id: mode
    attributes:
      label: Running Mode
      description: How are you running ZeroGravity?
      options:
        - Headless (default, --headless)
        - Classic (--classic, attached to running Antigravity)
        - No MITM (--no-mitm)
    validations:
      required: true

  - type: input
    id: model
    attributes:
      label: Model Used
      description: Which model were you using when the issue occurred?
      placeholder: gemini-3-flash

  - type: textarea
    id: description
    attributes:
      label: What happened?
      description: Describe the issue clearly. What did you expect vs what actually happened?
    validations:
      required: true

  - type: textarea
    id: repro
    attributes:
      label: Steps to Reproduce
      description: How can we reproduce this? Include the curl command or client config if applicable.

  - type: textarea
    id: logs
    attributes:
      label: Logs
      description: |
        ```
        zg logs 50
        ```
      render: text

  - type: textarea
    id: health
    attributes:
      label: Health / Status Output
      description: |
        ```
        zg health
        zg status
        ```
      render: json

  - type: textarea
    id: trace
    attributes:
      label: Call Trace (if applicable)
      description: |
        ```
        zg trace
        ```
      render: markdown

  - type: textarea
    id: extra
    attributes:
      label: Additional Context
      description: Anything else — screenshots, network setup (VPN/proxy), Antigravity version, etc.
